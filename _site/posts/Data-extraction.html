
<!doctype>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WRBZM6X');</script>
    <!-- End Google Tag Manager -->
    <meta content=' Data extraction From Google Analytics - Yuqian(Iris) Zhanfu‘s Blog' name='title' />
    <meta content=' Data extraction From Google Analytics - Yuqian(Iris) Zhanfu‘s Blog' name='og:title' />
    <title> Data extraction From Google Analytics - Yuqian(Iris) Zhanfu‘s Blog</title>
    <link href='http://localhost:4000/images/fav.png' rel='shortcut icon'>
<link href='http://localhost:4000/stylesheets/style.css' rel='stylesheet' type='text/css' />
<link href='http://localhost:4000/stylesheets/syntax.css' rel='stylesheet' type='text/css' />

<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type' />

  <meta content='http://localhost:4000/posts/Data-extraction' property='og:url' />
  <meta content="Google Analytitcs is widely used in the digital analytics area for analyzing, reporting. The platform itself provides..." property='og:description' />
  <meta content="article" property="og:type" />

<!-- - -->




<meta content="isiris@live.cn" property="fb:app_id" />
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=isiris@live.cn";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


  </head>
  <body class="lh-copy dark-gray pa0 f6 sans-serif bg-super-white">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WRBZM6X"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <header class="tc mt4">
      <a href="http://localhost:4000">
        <img src="http://localhost:4000/images/scribble.png" alt="Home" width="53" height="59">
      </a>
      <p>Yuqian(Iris) Zhanfu‘s Blog</p>
    </header>
    <div class="mw7 bg-white mt4 mb3 center br2-ns bt bb ba-ns b--light-gray">
      <nav class="bb b--light-gray pv4 tc" aria-label="Main">
        
          <a class="link blue hover-mid-gray mh2 pv1"
             href="http://localhost:4000/">
             Posts
           </a>
        
          <a class="link blue hover-mid-gray mh2 pv1"
             href="http://localhost:4000/about">
             About me
           </a>
        
      </nav>

      <main class="tl f6 relative pa4 pa5-ns overflow-hidden">
        
          <div class="mb4">
            <div class="fw600 light-silver mt1">10 Jul 2017</div>
            <h1 class="ttu f3 mt0 lh-title cb mb2">
              
               Data extraction From Google Analytics
            </h1>
            
          </div>
        
        <div class="markdown-body">
          <p>Google Analytitcs is widely used in the digital analytics area for analyzing, reporting. The platform itself provides a powerful reporting and analyzing dashboard for users. However, the data from google analytics need extra processing steps on other platforms in order to get more actionable insights. 
Here, I summarized the data extraction process with Google Analytics from three commonly used platfroms: <strong>R, Tableau</strong>.</p>

<h2 id="r">R</h2>
<p>R has a powerful function regarding to the data visualization, processing, prediction and analytics. There are bunch of open source R packeges helping R work efficiently from different aspects. <a href="http://code.markedmondson.me/googleAnalyticsR/index.html">“GoogleAnalyticsR” package</a> is an R library especially for working with Google Analytics data.</p>

<h4 id="step1--get-the-viewid">STEP1 : Get the ViewID</h4>
<p>I assume that the <a href="https://www.rstudio.com/">R studio set up</a> is ready here.</p>

<p>The first step to extract Google Analytics Data is to let R know which Google Analytics view is going to use. Thus, we need to get the <a href="https://www.youtube.com/watch?v=x1MljgyLeRM">viewID</a> first from Google Analytics.</p>

<p>A very easy way I learnt is to use <a href="https://ga-dev-tools.appspot.com/query-explorer/">Google Analytics Query Explorer</a>, where you can automaticlly get the ViewID. ( I chose my own website view to extract the data)</p>

<p><img src="http://localhost:4000/images/Rpic/P1.png" alt="Google analytics screenshot" title="Google Analytics Query Explorer Interface" /></p>

<h4 id="step2--install-google-analytics-r-package-in-r-studio">STEP2 : Install “Google Analytics R” package in R studio</h4>
<p>The “GoogleAnalyticsR” package needs to be installed to initiate so that the user can use the GoogleAnalyticsR library.</p>

<p><img src="http://localhost:4000/images/Rpic/P2.png" alt="Install the package and library" title="Package Installation" /></p>

<p><img src="http://localhost:4000/images/Rpic/P2.2.png" alt="Install the package and library" title="Library Installation" /></p>

<h4 id="step3--assign-the-data-extraction-properties">STEP3 : Assign the data extraction properties</h4>
<p>Then, the conditions of the extracted data need to be set through an R command, and assigned to an R variable.</p>

<p><img src="http://localhost:4000/images/Rpic/P3.png" alt="The command screenshot" title="The command screenshot" /></p>

<p>In this script,       <br />
 【date_range】: Set the the time range of the data you want to extract.                          <br />
 【metrics】: The name of the metrics you hope to extract. A easy way to do this is to select the metrics you want to extract on the Google Analytics Query Explorer “metrics” row, copy and paste the name after “ga:”, which indicates the variable name.                 <br />
 【dimensions】: Set the data dimensions, like “date”,”region” ….</p>

<p>Run the command, if everything is right ,you can see the data when you type the view command.</p>

<p><img src="http://localhost:4000/images/Rpic/P3-region.png" alt="The command screenshot" title="Extracted Data Screenshot" /></p>

<h4 id="step4--check-the-data-and-play">STEP4 : Check the data and play</h4>

<p>Finally make the data appear in the R studio. Now it is time to do the job you want. I personally just output the extracted dataset as a CSV file.</p>

<p><img src="http://localhost:4000/images/Rpic/P6.png" alt="Output Command" title="Output Command" /></p>

<p><img src="http://localhost:4000/images/Rpic/P7.png" alt="Output CSVfile" title="Output CSVfile" /></p>

<h2 id="tableau">Tableau</h2>
<p>Tableau is a widely used drog-click data visualizaiton platform. It helps create effective dashboards and story telling part to make sense of your data.</p>

<h4 id="step1--connect-the-google-analytics-account">STEP1 : Connect the Google Analytics account</h4>
<p>The first step is to let the Tableau Desktop know which Google Analytics account will be connected with. Start Tableau and click <strong>Connect - To a Server - Google Analytics</strong> Then input the Google analytics account information.</p>

<p><img src="http://localhost:4000/images/Rpic/P8.png" alt="CONNECT AND LOGIN SCREEN" title="Connect" /></p>

<p><img src="http://localhost:4000/images/Rpic/P9.png" alt="LOGIN READY" title="Login Ready" /></p>

<h4 id="step2-setup-the-conditions">STEP2: Setup the conditions</h4>
<p>After connecting the Google analytics account with Tableau, the next step is to set up the conditions for the data that needs to be extracted.</p>

<p>Tableau provides a convenient guidance for users to set up conditions. In this interface, you need to select <strong>Account, Property, and Profile, Filters, dimension and Measures</strong>      <br />
<img src="http://localhost:4000/images/Rpic/P10.png" alt="CONDITION SELECTION INTERFACE" title="Condition Settings" /></p>

<h4 id="step3-play-with-the-data">STEP3: Play with the data</h4>
<p>If all the setting in the last steps are right. It is time to use these data to conduct the analysis though <strong>sheet</strong> at the bottom of Tableau Interface. Here, I present a simple bar chart. For <a href="http://onlinehelp.tableau.com/current/pro/desktop/en-us/design_and_analyze.html">more Tableau data viusalizaiton function</a></p>

<p><img src="http://localhost:4000/images/Rpic/P11.png" alt="The sheet screenshot" title="Condition Settings" /></p>

<h4 id="reference-resource">Reference Resource:</h4>
<p><a href="http://analyticsdemystified.com/google-analytics/tutorial_pulling_google_analytics_data_with_r/">From 0 TO R with Google Analytics</a></p>

<p><a href="http://www.stateofdigital.com/exporting-google-analytics-data/">How to Extract and Export your Google Analytics Data</a></p>


        </div>
        <p class="mt4">
  Til next time,<br>
  Yuqian(Iris) 
  <span class="silver">at 00:00</span>
</p>
<img src="http://localhost:4000/images/scribble3.png" alt="scribble" />

      </main>
      <section class="fixed-l mw7 center w-100 top-50 tc pb4 nt4">
  
    <a href="http://localhost:4000/posts/Missing-Data-Processing" class="no-underline f1 light-blue hover-silver nl5 fl-l ph3">‹</a>
  
  
    <a href="http://localhost:4000/posts/Advanced-Segment-With-Google-Analytics" class="no-underline f1 light-blue hover-silver nr5 fr-l ph3">›</a>
  
</section>
    </div>
    <footer class="mw7 center tc pt3 pb4 silver">
      Built with Jekyll using <a href="http://github.com/muan/scribble" class="link silver hover-blue pv1">Scribble</a>.
      <img src="http://localhost:4000/images/scribble2.png" alt="scribble" class="mt4 db center" />
    </footer>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101012175-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
